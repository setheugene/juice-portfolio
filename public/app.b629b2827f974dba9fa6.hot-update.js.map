{"version":3,"file":"app.b629b2827f974dba9fa6.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;;AAGA;AACA;;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://@roots/bud/sage/sage/./scripts/app.js"],"sourcesContent":["// import domReady from '@roots/sage/client/dom-ready';\nimport Splide from '@splidejs/splide';\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from 'gsap/ScrollTrigger.js';\ngsap.registerPlugin(ScrollTrigger);\nimport { Flip } from 'gsap/Flip.js';\ngsap.registerPlugin(Flip);\nimport { AutoScroll } from '@splidejs/splide-extension-auto-scroll';\nimport 'magnific-popup/dist/jquery.magnific-popup.js';\nimport Swup from 'swup';\n\n\nconst swup = new Swup({ containers: [\"#main\"] });\nif (document.readyState === 'complete') {\n  init();\n  colorToggle();\n} else {\n  document.addEventListener('DOMContentLoaded', () => init());\n  colorToggle();\n}\n\n\n\nfunction colorToggle() {\n  $('#color-toggle').on('click', function () {\n    $(this).toggleClass('color-mode');\n    if (sessionStorage.getItem('color-mode') === 'dark') {\n      sessionStorage.setItem('color-mode', 'light');\n      $('body').removeClass('dark-mode');\n    } else {\n      sessionStorage.setItem('color-mode', 'dark');\n      $('body').addClass('dark-mode');\n    }\n  });\n}\n\nswup.hooks.on('page:view', (visit) => init());\nlet count = 0;\nfunction init() {\n\n\n\n  if (sessionStorage.getItem('featured-project') === null) {\n    const firstFilterButtonClass = $('.featured-projects .featured-project_cat-filter-trigger').first().data('target').replace('.', '');\n    sessionStorage.setItem('featured-project', firstFilterButtonClass);\n  }\n  $('.featured-project_cat-filter-trigger').on('click', function () {\n    const target = $(this).data('target');\n    const className = target.replace('.', '');\n\n    $('.featured-project_project').each(function () {\n      if ($(this).hasClass(className)) {\n        $(this).addClass('is-open');\n      } else {\n        $(this).removeClass('is-open');\n      }\n\n      sessionStorage.setItem('featured-project', className);\n    });\n\n    $('.featured-project_cat-filter-trigger').each(function () {\n      $(this).removeClass('is-open');\n    });\n\n    $(this).addClass('is-open');\n  });\n\n  if (sessionStorage.getItem('featured-project') != '') {\n    $('.featured-project_project').each(function () {\n      if ($(this).hasClass(sessionStorage.getItem('featured-project'))) {\n        $(this).addClass('is-open');\n      } else {\n        $(this).removeClass('is-open');\n      }\n    });\n\n    $('.featured-project_cat-filter-trigger').each(function () {\n      const target = $(this).data('target');\n      const className = target.replace('.', '');\n      if (className === sessionStorage.getItem('featured-project')) {\n        $(this).addClass('is-open');\n      } else {\n        $(this).removeClass('is-open');\n      }\n    });\n\n\n\n  }\n\n  function switchColorMode() {\n    if (sessionStorage.getItem('color-mode') === 'dark') {\n      sessionStorage.setItem('color-mode', 'dark');\n      $('body').addClass('dark-mode');\n    } else {\n      sessionStorage.setItem('color-mode', 'light');\n      $('body').removeClass('dark-mode');\n    }\n  }\n\n  switchColorMode();\n\n  count++;\n  function createAnimation(elements, startAnimationObj, animationFunction, start = 'top 90%') {\n    if ((typeof elements === 'string' && document.querySelectorAll(elements).length > 0) || (typeof elements === 'object' && elements.length > 0)) {\n      gsap.set(elements, startAnimationObj);\n\n      const triggers = ScrollTrigger.batch(elements, {\n        toggleClass: 'js-animated',\n        once: true,\n        start: 'top bottom-=230px',\n\n        onEnter: (batch) => {\n          animationFunction(batch);\n        },\n      });\n\n      ScrollTrigger.addEventListener('refreshInit', () => {\n        triggers.forEach((trigger) => {\n          if (trigger.progress > 0) {\n            animationFunction(trigger.trigger);\n          }\n        });\n      });\n    }\n  }\n  const fadeUpClasses = '.js-fade:not(.js-ignore), .js-fade-group > *:not(.js-ignore)';\n  function fadeUpTimeline(elements) {\n    const tl = gsap.timeline();\n    /*\n      * The following .to functions are the equivalent of\n      * transition: opacity 0.35s ease 0.1s, transform 1s ease-out 0.1s;\n      */\n\n    /* Opacity style and transitions */\n    tl.to(elements, {\n      opacity: 1, // property/value\n      duration: 0.35, // duration e.g. 0.35s\n      ease: '0.25,0.1,0.25,1', // timing function e.g. ease\n      stagger: 0.1, // delay e.g 0.1s\n    }, 0);\n\n    /* Transform style and transitions */\n    tl.to(elements, {\n      y: 0, // property/value\n      duration: 1, // duration e.g. 1s\n      ease: '0, 0, 0.58, 1.0', // timing function eg. ease-out\n      stagger: 0.1, // delay e.g 0.1s\n    }, 0);\n  }\n  createAnimation(fadeUpClasses, { opacity: 0, y: 25 }, fadeUpTimeline);\n\n  /*\n   * Reveal on scroll\n   */\n  function reveal(elements) {\n    gsap.to(elements,\n      {\n        clipPath: 'inset(0% 0% 0% 0%)',\n        duration: 1.5,\n        ease: '0, 0, 0.58, 1.0',\n        stagger: 0.2, // delay e.g 0.2s\n      },\n    );\n  }\n\n  const revealRightClasses = '.js-reveal-right:not(.js-ignore)';\n  createAnimation(revealRightClasses, { clipPath: 'inset(0 100% 0 0)' }, reveal);\n\n  const revealLeftClasses = '.js-reveal-left:not(.js-ignore)';\n  createAnimation(revealLeftClasses, { clipPath: 'inset(0 0 0 100%)' }, reveal);\n\n  const revealTopClasses = '.js-reveal-top:not(.js-ignore)';\n  createAnimation(revealTopClasses, { clipPath: 'inset(100% 0 0 0)' }, reveal);\n\n  const revealBottomClasses = '.js-reveal-bottom:not(.js-ignore)';\n  createAnimation(revealBottomClasses, { clipPath: 'inset(0 0 100% 0)' }, reveal);\n  // add active class to entire sections for css animations\n  $('.activate').each(function () {\n    ScrollTrigger.create({\n      trigger: this,\n      start: 'top 50%',\n      scrub: 0.15,\n      onRefresh: (self) => {\n        if (self.progress > 0) {\n          $(this).addClass('active');\n        }\n      },\n      onEnter: ({ progress, direction, isActive }) => $(this).addClass('active'),\n    });\n  });\n\n  $('.video-popup-trigger').magnificPopup({\n    type: 'iframe',\n    mainClass: 'mfp-fade',\n    preloader: false,\n    fixedContentPos: false,\n    removalDelay: 160,\n    callbacks: {\n      open: function () {\n        $('video').trigger('pause');\n      },\n      close: function () {\n        $('video').trigger('play');\n      },\n    },\n  });\n\n  if ($('.appearing-text').length > 0) {\n\n    $(\".appearing-text\").each(function () {\n      const item = $(this).find('.appearing-text__item');\n      item.each(function () {\n        const tl = gsap.timeline({\n          scrollTrigger: {\n            trigger: this,\n            start: \"top bottom\",\n            end: \"center center\",\n            pin: false,\n            // markers: true,\n            scrub: true,\n            stagger: 0.25\n          }\n        });\n        tl.from($(this), { x: '55vw' });\n        // tl.fromTo(\n        //   $(this),\n        //   { filter: \"blur(10px)\", opacity: \"0\", ease: \"linear\" },\n        //   { filter: \"blur(0px)\", opacity: \"1\", ease: \"linear\" }\n        // );\n        // tl.fromTo(\n        //   $(this),\n        //   { filter: \"blur(0px)\", opacity: \"1\", ease: \"linear\" },\n        //   { filter: \"blur(10px)\", opacity: \"0\", ease: \"linear\" }\n        // );\n      });\n      // const itemsHeight = $(this).find('.appearing-text_column').height() / 2;\n\n      // ScrollTrigger.create({\n      //   trigger: $(this).find(\".appearing-text_title\"),\n      //   pin: true,\n      //   start: \"center center\",\n      //   end: `bottom top-=${itemsHeight}`,\n      //   markers: true,\n      // });\n    });\n  }\n\n  if ($('.content-accordion').length > 0) {\n    //SET THE HEIGHT OF THE COMPONENT TO THE TALLEST ACCORDION CONTENT SO THE PAGE DOESN'T MOVE UP AND DOWN WHEN NAVIGATING\n    let totalAccHeight = 0;\n    let accCount = 0;\n\n    $('.content-accordion_content').each(function () {\n      accCount++;\n      if ($(this).height() > totalAccHeight) {\n        totalAccHeight = $(this).height();\n      }\n      $(this).height(0);\n    });\n    const totalHeight = (accCount * 72) + totalAccHeight;\n    $('.content-accordion_wrapper').height(totalHeight);\n  }\n\n  //OPEN AND CLOSE ACCORDIONS ON CLICK\n  $('.content-accordion_button').on('click', function () {\n    const outerPanel = $(this).next();\n    const innerPanel = outerPanel.find('.content-accordion_content-inner');\n    const panelHeight = innerPanel.height();\n\n    if (!$(this).hasClass('is-open')) {\n\n      //REMOVE CLASS FROM BUTTONS\n      $('.content-accordion_button').each(function () {\n        $(this).removeClass('is-open');\n      });\n\n      //REMOVE CLASS FROM CONTENT\n      $('.content-accordion_content').each(function () {\n        $(this).removeClass('is-open');\n        $(this).height(0);\n      });\n\n      //ADD CLASSES\n      $(this).addClass('is-open');\n      outerPanel.height(panelHeight);\n      outerPanel.addClass('is-open');\n\n    } else {\n      $(this).removeClass('is-open');\n      outerPanel.height(0);\n      outerPanel.removeClass('is-open');\n    }\n  });\n\n\n\n  window.toggleGridOverlay = function () {\n    const template = `<div id=\"gridOverlay\" class=\"fixed inset-0 opacity-25 pointer-events-none\" style=\"z-index:9999\">\n        <div class=\"container grid grid-cols-6 h-full md:grid-cols-12 gap-gutter-full\">\n          <div class=\"h-full\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"h-full\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"h-full\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"h-full\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"h-full\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"h-full\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"hidden h-full md:block\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"hidden h-full md:block\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"hidden h-full md:block\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"hidden h-full md:block\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"hidden h-full md:block\" style=\"background-color: #fc8181;\"></div>\n          <div class=\"hidden h-full md:block\" style=\"background-color: #fc8181;\"></div>\n        </div>\n      </div>`;\n    if (document.getElementById('gridOverlay')) {\n      document.getElementById('gridOverlay').remove();\n    } else {\n      document.body.insertAdjacentHTML('beforeend', template);\n    }\n  };\n\n  if ($('.homepage-hero_splide').length > 0) {\n    const splide = new Splide('.homepage-hero_splide.splide', {\n      type: 'loop',\n      drag: 'free',\n      focus: 'center',\n      arrows: false,\n      pagination: false,\n      perPage: 1,\n      gap: '4rem',\n      autoScroll: {\n        speed: 1,\n        pauseOnHover: false,\n        pauseOnFocus: false,\n      },\n    });\n\n    splide.mount({ AutoScroll });\n  }\n\n  if ($('.references_splide').length > 0) {\n    const splide = new Splide('.references_splide.splide', {\n      type: 'loop',\n      drag: 'free',\n      focus: 'center',\n      arrows: false,\n      pagination: false,\n      perPage: 1,\n      // gap: '2rem',\n      autoScroll: {\n        speed: 1,\n        pauseOnHover: false,\n        pauseOnFocus: false,\n      },\n    });\n\n    splide.mount({ AutoScroll });\n  }\n\n\n  // Magnetic Button Reference Code GreenSock Official CopePen\n  // https://codepen.io/GreenSock/pen/XWdvmoq\n\n  var mWrap = document.querySelectorAll(\".magnetic-wrap\");\n\n  function parallaxIt(e, wrap, movement = 0.5) {\n    var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    var boundingRect = wrap.mArea.getBoundingClientRect();\n    var relX = e.pageX - boundingRect.left;\n    var relY = e.pageY - boundingRect.top;\n\n    gsap.to(wrap.mContent, {\n      x: (relX - boundingRect.width / 2) * movement,\n      y: (relY - boundingRect.height / 2 - scrollTop) * movement,\n      ease: \"power1\",\n      duration: 0.6\n    });\n  }\n\n  mWrap.forEach(function (wrap) {\n\n    wrap.mContent = wrap.querySelector(\".js-magnetic-content\");\n    wrap.mArea = wrap.querySelector(\".js-magnetic-area\");\n\n    wrap.mArea.addEventListener(\"mousemove\", function (e) {\n      parallaxIt(e, wrap);\n    });\n\n    wrap.mArea.addEventListener(\"mouseleave\", function (e) {\n      gsap.to(wrap.mContent, {\n        scale: 1,\n        x: 0,\n        y: 0,\n        ease: \"power3\",\n        duration: 0.6\n      });\n    });\n  });\n\n  const navHeight = 76;\n  // if ($('featured-projects_grid').length > 0) {\n  //   const featuredProjectsHeight = $('.featured-projects_grid').height();\n  //   const tl = gsap.timeline({\n  //     scrollTrigger: {\n  //       trigger: '.featured-projects_pinned',\n  //       start: 'top top+=108px',\n  //       end: `top top-=${featuredProjectsHeight}px`,\n  //       pin: true,\n  //       // markers: true,\n  //       pinSpacing: false,\n  //     },\n  //   });\n  // }\n\n\n  parallax();\n\n  $(window).on('resize', function () {\n    parallax();\n  });\n  function parallax() {\n    $('.js-parallax').each(function () {\n      const tl = gsap.timeline({\n        scrollTrigger: {\n          trigger: this,\n          start: 'top bottom-=135px',\n          end: 'bottom top+=77px',\n          pin: false,\n          // markers: true,\n          scrub: 1.5,\n          delay: 0.25,\n        },\n      });\n      tl.fromTo($(this), { yPercent: 10 }, { yPercent: -10 });\n    });\n  }\n\n  parallaxReverse();\n\n  $(window).on('resize', function () {\n    parallaxReverse();\n  });\n  function parallaxReverse() {\n    $('.js-parallax-reverse').each(function () {\n      const tl = gsap.timeline({\n        scrollTrigger: {\n          trigger: this,\n          start: 'top bottom-=135px',\n          end: 'bottom top+=77px',\n          pin: false,\n          // markers: true,\n          scrub: 1.5,\n          delay: 0.25,\n        },\n      });\n      tl.fromTo($(this), { yPercent: -10 }, { yPercent: 10 });\n    });\n  }\n\n  projectHeroImage();\n\n  $(window).on('resize', function () {\n    projectHeroImage();\n  });\n\n  function projectHeroImage() {\n    $('.project-hero_image-container').each(function () {\n      const tl = gsap.timeline({\n        scrollTrigger: {\n          trigger: this,\n          start: 'top top+=290px',\n          end: 'top top+=190px',\n          pin: false,\n          // markers: true,\n          scrub: 2,\n        },\n      });\n      tl.from($(this), { padding: 0 });\n    });\n  }\n\n  // const items = gsap.utils.toArray('.featured-project_project');\n  // const filters = $('.featured-project_category-pill');\n  // function updateFilters() {\n  //   const state = Flip.getState(items);\n\n  //   Flip.from(state, {\n  //     duration: 0.7,\n  //     scale: true,\n  //     ease: \"power1.inOut\",\n  //     stagger: 0.08,\n  //     absolute: true,\n  //     onEnter: elements => gsap.fromTo(elements, { opacity: 0, scale: 0 }, { opacity: 1, scale: 1, duration: 1 }),\n  //     onLeave: elements => gsap.to(elements, { opacity: 0, scale: 0, duration: 1 })\n  //   });\n  // }\n  // filters.on('click', function () {\n  //   updateFilters();\n  // });\n};\n// });\n/**\n * @see {@link https://webpack.js.org/api/hot-module-replacement/}\n */\nimport.meta.webpackHot?.accept(console.error);\n"],"names":[],"sourceRoot":""}